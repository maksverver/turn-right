#include "winning.hh"

Field win2_00[1 + 4*56] = {
           1008602624ULL,        2017205248ULL,        9094170112ULL,       17618050560ULL,
          18188340736ULL,       26005603840ULL,       26140872192ULL,       34831470080ULL,
          35102006784ULL,       35236101120ULL,       35368209920ULL,       36376681472ULL,
          51944234496ULL,       52281744896ULL,       60499561984ULL,       69662940160ULL,
          70204013568ULL,       70736419840ULL,      103819386368ULL,      103888468992ULL,
         104563489792ULL,      120999124480ULL,      121300981760ULL,      207638772736ULL,
         241998248960ULL,      258169510912ULL,      258203064320ULL,      258739148800ULL,
        4510220947456ULL,     4510759786496ULL,     4648196642816ULL,     4656751974400ULL,
        4656754069504ULL,     8917393217536ULL,     8986113611776ULL,     8986113739776ULL,
        9054798485504ULL,    13297724033024ULL,    13297724035072ULL,    13298262874112ULL,
       13314903644160ULL,    13315440510976ULL,    13315441823744ULL,    13324029532160ULL,
       13324031627264ULL,    13384126568448ULL,    13384126693376ULL,    13384160116736ULL,
       13435699726336ULL,    13435699855360ULL,    13452845911040ULL,    26577762913280ULL,
       26577762916352ULL,    26646985444352ULL,    26647018997760ULL,    30975775866880ULL };
Field win2_01[1 + 4*37] = {
          18190568960ULL,       26274039296ULL,       26543523328ULL,       35368340992ULL,
          36381137920ULL,       51979886080ULL,       53087178240ULL,       70736681984ULL,
         103959772672ULL,      104026873344ULL,      121001221632ULL,      241998511104ULL,
         242002443776ULL,      242065358336ULL,      259511950848ULL,      259545374208ULL,
        2208118474240ULL,     2259523866112ULL,     2328779165184ULL,     4424793464320ULL,
        4501867994624ULL,     4656787757056ULL,     8849586929152ULL,     9003735989248ULL,
        9054832958464ULL,     9054834268160ULL,    13306850842624ULL,    13315440516096ULL,
       13444289792000ULL,    13444289794048ULL,    13452342598656ULL,    13452880648192ULL,
       13590319733760ULL,    30976312743936ULL,    30976346167296ULL,    30976346294272ULL,
     1152478208727040ULL };
Field win2_02[1 + 4*77] = {
           1010699776ULL,        2021399552ULL,        2088246784ULL,       18190437888ULL,
          26274039296ULL,       26543523328ULL,       35368340992ULL,       35907309056ULL,
          36380876288ULL,       51977788928ULL,       52514655744ULL,       52548079104ULL,
          53087047168ULL,       69667134464ULL,       70736681984ULL,      103955578368ULL,
         104026611200ULL,      105029312000ULL,      105096158720ULL,      121001221632ULL,
         207167032832ULL,      224346770944ULL,      241998249472ULL,      241998511104ULL,
         258741243904ULL,      259511819776ULL,      414334065664ULL,      448693542400ULL,
        2208118474240ULL,     2259523866112ULL,     2311196640768ULL,     2328779165184ULL,
        4424791367168ULL,     4501867994624ULL,     4518810622976ULL,     4640378592768ULL,
        4656216022016ULL,     4656754200576ULL,     4656787625984ULL,     8849582734848ULL,
        8917394004992ULL,     9003731794944ULL,     9054296087552ULL,     9054832954368ULL,
        9054834137088ULL,     9192273222656ULL,    13306850711552ULL,    13306850838528ULL,
       13306850840576ULL,    13314870090752ULL,    13324030446592ULL,    13443752919040ULL,
       13444290844672ULL,    13452348108800ULL,    13590286178304ULL,    13590319601664ULL,
       13598876110848ULL,    22110963112960ULL,    30976312612864ULL,    30976312739840ULL,
       30976312741888ULL,    30976346037248ULL,    30976346163200ULL,    31036475705344ULL,
       35632529030144ULL,    48903002789888ULL,    66435025737728ULL,    66435025866752ULL,
     1132746589999104ULL,  1132746592092160ULL,  1132747126865920ULL,  1132755716541440ULL,
     1150347869031424ULL,  1152478206625792ULL,  1152478206627840ULL,  1152478208595968ULL,
     1187936919753728ULL };
Field win2_03[1 + 4*59] = {
           2021400064ULL,        2084441600ULL,       26275087872ULL,       35370438144ULL,
          36381137920ULL,       52550176256ULL,      104026872832ULL,      104087817728ULL,
         105100353024ULL,      120697265664ULL,      121001352704ULL,      121236229632ULL,
         129591156224ULL,      207106087936ULL,      207169129984ULL,      208175635968ULL,
         241394531840ULL,      241998511104ULL,      242065739264ULL,      242472459776ULL,
         258673085952ULL,      259249421824ULL,      259511950848ULL,      517346172416ULL,
         533619153920ULL,     2208655345152ULL,     2259523866112ULL,     2311197689344ULL,
        2328779165184ULL,     4493512941056ULL,     4519047732736ULL,     4931665664000ULL,
        8865760156672ULL,     8987025882624ULL,     9038095465984ULL,     9054834269184ULL,
       11107289662976ULL,    13315409058816ULL,    13323493579776ULL,    13324032543744ULL,
       13452342598656ULL,    13452845915136ULL,    13452847224832ULL,    13452880777216ULL,
       13461469400064ULL,    13598908353536ULL,    17799353077248ULL,    26647020312576ULL,
       30976348264448ULL,    30976348393472ULL,    31036475705344ULL,    31036475834368ULL,
       33175337965568ULL,    35598706155008ULL,    35633065892864ULL,    53035299380224ULL,
       57433345890304ULL,  1132755716545536ULL,  1156876221552640ULL };
Field win2_04[1 + 4*104] = {
           2021400064ULL,        2084441600ULL,       19264179712ULL,       26275087872ULL,
          35370438144ULL,       36380876288ULL,       36381137920ULL,       52550176256ULL,
         104026611200ULL,      104026872832ULL,      104087817728ULL,      120697265664ULL,
         121001352704ULL,      121236229632ULL,      129591156224ULL,      207106087936ULL,
         207169129984ULL,      208175635968ULL,      224348868096ULL,      241394531840ULL,
         241998511104ULL,      242065739264ULL,      242472459776ULL,      258673085952ULL,
         259245227520ULL,      259511950848ULL,      266792999936ULL,      267329866752ULL,
         268101754368ULL,      517346172416ULL,      533619152896ULL,     2208655345152ULL,
        2259523866112ULL,     2311197689344ULL,     2328779165184ULL,     4492973972992ULL,
        4494586678784ULL,     4519047732736ULL,     4630951890432ULL,     4656216022016ULL,
        4657558330880ULL,     4931632107520ULL,     8865760156672ULL,     8985947946496ULL,
        8987025874432ULL,     9038091271680ULL,     9054296087552ULL,     9054832954368ULL,
        9054834268160ULL,    11107289662976ULL,    13306850711552ULL,    13306850840576ULL,
       13306852804608ULL,    13314872187904ULL,    13314903645184ULL,    13315442609152ULL,
       13443752923136ULL,    13444289660928ULL,    13452845911040ULL,    13452847222784ULL,
       13581728614400ULL,    13590318418944ULL,    17799353077248ULL,    17816532815360ULL,
       18125805195264ULL,    22223135837696ULL,    26509043178496ULL,    26646487642112ULL,
       26647020310528ULL,    26784457952256ULL,    30898499885056ULL,    30898500014080ULL,
       30976348134400ULL,    30976348264448ULL,    30976348389376ULL,    31036475834368ULL,
       31036476887040ULL,    33175337835520ULL,    33175337965568ULL,    33175338090496ULL,
       35598706155008ULL,    35633065631232ULL,    35633065892864ULL,    44446271675904ULL,
       53035299377152ULL,    57433312333824ULL,    61968831354880ULL,    66435061389312ULL,
       66435061514240ULL,    68634051090432ULL,    68634051215360ULL,  1134816763976704ULL,
     1135092178750464ULL,  1139206759776256ULL,  1139344196632576ULL,  1139481635586048ULL,
     1150201337090048ULL,  1150339312785408ULL,  1150339312910336ULL,  1156876221422592ULL,
     1156876221552640ULL,  1156876221677568ULL,  1192334934677504ULL,  1192334934802432ULL };
Field win2_05[1 + 4*71] = {
           2021400064ULL,        2084441600ULL,       26811958784ULL,       36381137920ULL,
          53623918080ULL,      104026872832ULL,      104087817728ULL,      105100353024ULL,
         120697265664ULL,      121273589248ULL,      122309971456ULL,      129624710656ULL,
         207106088448ULL,      208175635968ULL,      241394531840ULL,      242065739264ULL,
         242472459776ULL,      259278781952ULL,      268135308800ULL,      533619153920ULL,
        2208655345152ULL,     2259523866112ULL,     2328779165184ULL,     4425900625408ULL,
        4493512941056ULL,     4494586678784ULL,     4519047732736ULL,     4630949797376ULL,
        4657558330880ULL,     4665376381952ULL,     4940254284800ULL,     8849653767680ULL,
        8900119633408ULL,     8987021688320ULL,     8987025874432ULL,     9038091271680ULL,
        9038091533312ULL,    11107289662976ULL,    13323493579776ULL,    13324032543744ULL,
       13460901075968ULL,    13461469400064ULL,    13727725132800ULL,    15522485378048ULL,
       17799353077248ULL,    17850859130368ULL,    18125805196288ULL,    22223135837696ULL,
       22223169261056ULL,    26647020311552ULL,    30898499885056ULL,    30984938199040ULL,
       31035938967552ULL,    31036475705344ULL,    31036475834368ULL,    33183927900160ULL,
       33183928029184ULL,    35598706155008ULL,    35633065892864ULL,    35701718261248ULL,
       40124089506816ULL,    44446271675904ULL,    44446338522624ULL,    50698298989568ULL,
       57441934511104ULL,  1139223368965120ULL,  1150339312914432ULL,  1156876221552640ULL,
     1156876221681664ULL,  1156876255232000ULL,  4556634926748672ULL };
Field win2_06[1 + 4*101] = {
           2021400064ULL,        2084441600ULL,        2088377856ULL,       19264179712ULL,
          26811958784ULL,       36380876288ULL,       36381137920ULL,      104026872832ULL,
         104087817728ULL,      120697265664ULL,      121273589248ULL,      122309971456ULL,
         129624710656ULL,      207106088448ULL,      208175635968ULL,      241394531840ULL,
         242065739264ULL,      242472459776ULL,      259278781952ULL,      268135308800ULL,
         533619151872ULL,     2208655345152ULL,     2259523866112ULL,     2328779165184ULL,
        4493512941056ULL,     4494586678784ULL,     4519047732736ULL,     4630949797376ULL,
        4657558330880ULL,     4664805956608ULL,     4931632108544ULL,     4940254284800ULL,
        6726423813120ULL,     8900119633408ULL,     8987021688320ULL,     8987025874432ULL,
        9038091271680ULL,     9038091533312ULL,    11107289662976ULL,    13306246864384ULL,
       13323393179136ULL,    13323460025344ULL,    13323998989312ULL,    13461435845632ULL,
       17799353077248ULL,    17816532815360ULL,    17850859130368ULL,    17858979044352ULL,
       22119586601984ULL,    22223135837696ULL,    26517633113088ULL,    26646487643136ULL,
       26647020311552ULL,    30898499885056ULL,    30898500014080ULL,    30899038978048ULL,
       30984938199040ULL,    31036475705344ULL,    31036475834368ULL,    31173914787840ULL,
       33183927900160ULL,    33183928025088ULL,    35598706155008ULL,    35598773132800ULL,
       35633065631232ULL,    35633065892864ULL,    35649809300992ULL,    35701718261248ULL,
       44247258110976ULL,    44446271675904ULL,    50698265435136ULL,    50698837953536ULL,
       57441934511104ULL,    61968831353856ULL,    61977419975680ULL,    66495188959232ULL,
     1133039150828544ULL,  1150209926765568ULL,  1150339312785408ULL,  1150339312910336ULL,
     1150347332164608ULL,  1150614190688256ULL,  1156798943723520ULL,  1156876221552640ULL,
     1156876221677568ULL,  1156935845806080ULL,  1158997430109184ULL,  1170009726000128ULL,
     1185523148003328ULL,  1185523148132352ULL,  1185523684870144ULL,  1192334934677504ULL,
     1192334934806528ULL,  2284897336695808ULL,  4552228289120256ULL,  4552228289249280ULL,
     4552502630160384ULL,  4552502630289408ULL,  4552502632382464ULL,  4556634926748672ULL };
Field win2_07[1 + 4*96] = {
           2021400064ULL,        2084441600ULL,        2088377856ULL,       19264179712ULL,
          26811958784ULL,       36380876288ULL,       36381137920ULL,      104087817728ULL,
         121236233728ULL,      121307143680ULL,      122309971456ULL,      129624710656ULL,
         207106088448ULL,      208175635968ULL,      242065739264ULL,      242468273664ULL,
         242472459776ULL,      258673090048ULL,      259278781952ULL,      268135308800ULL,
         533619151872ULL,     2208655345152ULL,     2259523866112ULL,     2328779165184ULL,
        4493512941056ULL,     4519047732736ULL,     4632023539200ULL,     4632025632256ULL,
        4657558330880ULL,     4664839511040ULL,     4931632110592ULL,     4940254284800ULL,
        6726425910272ULL,     8900119633408ULL,     8900119895040ULL,     8987021688320ULL,
        8987025874432ULL,     9038091271680ULL,     9038091533312ULL,    11107289662976ULL,
       13323493579776ULL,    13324032543744ULL,    13460898978816ULL,    13727725130752ULL,
       13736313752576ULL,    15522483280896ULL,    15523022244864ULL,    17712883310080ULL,
       17799353077248ULL,    17816532815360ULL,    17850859130368ULL,    22223137934848ULL,
       22224209579520ULL,    26517633113088ULL,    26646487643136ULL,    26647020311552ULL,
       30898432908800ULL,    30899038978048ULL,    30915579223552ULL,    30984938199040ULL,
       31036475709440ULL,    31036475834368ULL,    31311353612288ULL,    33183927900160ULL,
       33183928025088ULL,    35425766620672ULL,    35598706155008ULL,    35598773132800ULL,
       35633065631232ULL,    35633065892864ULL,    35649809300992ULL,    35701718261248ULL,
       44446271675904ULL,    61968831353856ULL,    66082871973888ULL,    66082872102912ULL,
       66495188959232ULL,  1132626330655744ULL,  1132764272925696ULL,  1133030562206720ULL,
     1133039150828544ULL,  1139223366867968ULL,  1139223905831936ULL,  1150339312785408ULL,
     1150339312910336ULL,  1150614190688256ULL,  1156876221552640ULL,  1156876221677568ULL,
     1158997966979072ULL,  1192334934677504ULL,  1192334934806528ULL,  1194181802198016ULL,
     4534498127255552ULL,  4534498127384576ULL,  4556634926748672ULL,  5662597057479680ULL };
Field win2_08[1 + 4*101] = {
           2021400064ULL,        2084441600ULL,        2088377856ULL,       19264179712ULL,
          26811958784ULL,       36380876288ULL,       36381137920ULL,      104087817728ULL,
         121236233728ULL,      121307143680ULL,      122309971456ULL,      129624710656ULL,
         207106088448ULL,      208175635968ULL,      242065739264ULL,      242468273664ULL,
         242472459776ULL,      258673090048ULL,      259278781952ULL,      268135308800ULL,
         533619151872ULL,     2208655345152ULL,     2259523866112ULL,     2328779165184ULL,
        4493512941056ULL,     4519047732736ULL,     4632023539200ULL,     4632025632256ULL,
        4657558330880ULL,     4664805956608ULL,     4931632108544ULL,     4940220730368ULL,
        6726423813120ULL,     8900119633408ULL,     8900119895040ULL,     8987021688320ULL,
        8987025874432ULL,     9038091271680ULL,     9038091533312ULL,    11107289662976ULL,
       13323493579776ULL,    13324032543744ULL,    15522483280896ULL,    15523022244864ULL,
       17712883310080ULL,    17799353077248ULL,    17816532815360ULL,    17850859130368ULL,
       22223137934848ULL,    22224209579520ULL,    26517633113088ULL,    26646487643136ULL,
       26647020311552ULL,    30898432908800ULL,    30899036880896ULL,    30915579223552ULL,
       30984938199040ULL,    31036475709440ULL,    31311353612288ULL,    33183927900160ULL,
       33183928025088ULL,    35425766620672ULL,    35598706155008ULL,    35598773132800ULL,
       35633065631232ULL,    35633065892864ULL,    35649809300992ULL,    35701718261248ULL,
       44446271675904ULL,    61968831353856ULL,    61977419975680ULL,    66082871973888ULL,
       66082872102912ULL,    66220311052288ULL,    66357752102912ULL,    68281895354368ULL,
     1132626299198464ULL,  1139223366867968ULL,  1139223905831936ULL,  1150339312785408ULL,
     1150339312910336ULL,  1150614190688256ULL,  1156876221552640ULL,  1156876221677568ULL,
     1185798026035200ULL,  1191982778941440ULL,  1192334934677504ULL,  1192334934806528ULL,
     3399819307129856ULL,  4534498127255552ULL,  4534498127384576ULL,  4534635566333952ULL,
     4534773007384576ULL,  4536697150636032ULL,  4556634926748672ULL,  4561032939705344ULL,
     4561041528327168ULL,  5660398034223104ULL,  7909998824527872ULL,  7914388281104384ULL,
     7914388281233408ULL };
Field win2_09[1 + 4*94] = {
           2021400064ULL,        2084441600ULL,        2088377856ULL,       19264179712ULL,
          26811958784ULL,       36380876288ULL,       36381137920ULL,      104087817728ULL,
         121236233728ULL,      121307143680ULL,      129624710656ULL,      207106088448ULL,
         208175635968ULL,      242065739264ULL,      242468273664ULL,      242472459776ULL,
         259278781952ULL,      259746831872ULL,      268135308800ULL,      533619151872ULL,
        2208655345152ULL,     2259523866112ULL,     2328779165184ULL,     4493512941056ULL,
        4519047732736ULL,     4632023539200ULL,     4632025632256ULL,     4657558330880ULL,
        4664839511040ULL,     4665342827520ULL,     4931632108544ULL,     4940220730368ULL,
        6726423813120ULL,     8900119633408ULL,     8900119895040ULL,     8987021688320ULL,
        8987025874432ULL,     9038091271680ULL,     9038091533312ULL,    11107289662976ULL,
       13460898978816ULL,    15522483280896ULL,    15523022244864ULL,    17712883310080ULL,
       17714496015872ULL,    17799353077248ULL,    17816532815360ULL,    17850859130368ULL,
       22223137934848ULL,    22224209579520ULL,    26646487643136ULL,    26647020311552ULL,
       30898432908800ULL,    30915579223552ULL,    30984938199040ULL,    31036475709440ULL,
       31036475834368ULL,    31311353612288ULL,    33183927900160ULL,    33183928025088ULL,
       35425766620672ULL,    35598706155008ULL,    35598773132800ULL,    35633065631232ULL,
       35633065892864ULL,    35649809300992ULL,    35701718261248ULL,    40124055952384ULL,
       44446271675904ULL,    61968831353856ULL,    66220310927360ULL,    66220311052288ULL,
     1132626299198464ULL,  1132763736054784ULL,  1139223366867968ULL,  1139223905831936ULL,
     1150339312910336ULL,  1156876221552640ULL,  1156876221677568ULL,  1192334934677504ULL,
     1192334934806528ULL,  2278317446798336ULL,  3399819307129856ULL,  4534498127255552ULL,
     4534498127384576ULL,  4534498666348544ULL,  4534635566333952ULL,  4536697150637056ULL,
     4536697687506944ULL,  4556634926748672ULL,  4561032939705344ULL,  4561041528327168ULL,
     5660398034223104ULL,  7914388281104384ULL };
Field win2_10[1 + 4*87] = {
           2021400064ULL,        2084441600ULL,        2088377856ULL,       19264179712ULL,
          26811958784ULL,       36380876288ULL,       36381137920ULL,      104087817728ULL,
         121236233728ULL,      121307143680ULL,      129624710656ULL,      207106088448ULL,
         208175635968ULL,      242065739264ULL,      242468273664ULL,      242472459776ULL,
         259278781952ULL,      259746831872ULL,      268135308800ULL,      533619151872ULL,
        2208655345152ULL,     2259523866112ULL,     2328779165184ULL,     4493512941056ULL,
        4519047732736ULL,     4632023539200ULL,     4632025632256ULL,     4657558330880ULL,
        4664805956608ULL,     4931632108544ULL,     4940220730368ULL,     6726390258688ULL,
        8900119633408ULL,     8900119895040ULL,     8987021688320ULL,     8987025874432ULL,
        9038091271680ULL,     9038091533312ULL,    11107289662976ULL,    15523022244864ULL,
       17712883310080ULL,    17714496015872ULL,    17799353077248ULL,    17816532815360ULL,
       17850859130368ULL,    22223137934848ULL,    22224209579520ULL,    26646487643136ULL,
       26647020311552ULL,    30898432908800ULL,    30915579223552ULL,    30984938199040ULL,
       31036475709440ULL,    31036475834368ULL,    31311353612288ULL,    33183927900160ULL,
       33183928025088ULL,    35425766620672ULL,    35598706155008ULL,    35598773132800ULL,
       35633065631232ULL,    35633065892864ULL,    35649809300992ULL,    35701718261248ULL,
       44446271675904ULL,    61968831353856ULL,    66220310927360ULL,    66220311052288ULL,
     1139223366867968ULL,  1139223905831936ULL,  1150339312910336ULL,  1156876221552640ULL,
     1156876221677568ULL,  1185798026035200ULL,  1192334934677504ULL,  1192334934806528ULL,
     2278317413243904ULL,  3399819273575424ULL,  4534498127255552ULL,  4534498127380480ULL,
     4556634926748672ULL,  4561032939705344ULL,  4561041528327168ULL,  7909998824527872ULL,
     7909998824656896ULL,  7914388281104384ULL,  7914388281233408ULL };
Field win2_13[1 + 4*87] = {
           2021400064ULL,        2084441600ULL,        2088377856ULL,       19264179712ULL,
          26811958784ULL,       36380876288ULL,       36381137920ULL,      104087817728ULL,
         121236233728ULL,      121307143680ULL,      129624710656ULL,      207106088448ULL,
         208175635968ULL,      242065739264ULL,      242468273664ULL,      242472459776ULL,
         259278781952ULL,      259746831872ULL,      268135308800ULL,      533619151872ULL,
        2208655345152ULL,     2259523866112ULL,     2328779165184ULL,     4493512941056ULL,
        4519047732736ULL,     4632023539200ULL,     4632025632256ULL,     4657558330880ULL,
        4664805956608ULL,     4931632108544ULL,     4940220730368ULL,     6726390258688ULL,
        8900119633408ULL,     8900119895040ULL,     8987021688320ULL,     8987025874432ULL,
        9038091271680ULL,     9038091533312ULL,    11107289662976ULL,    15523022244864ULL,
       17712883310080ULL,    17714496015872ULL,    17799353077248ULL,    17816532815360ULL,
       17850859130368ULL,    22223137934848ULL,    22224209579520ULL,    26646487643136ULL,
       26647020311552ULL,    30898432908800ULL,    30915579223552ULL,    30984938199040ULL,
       31036475709440ULL,    31036475834368ULL,    33183927900160ULL,    33183928025088ULL,
       35425766620672ULL,    35598706155008ULL,    35598773132800ULL,    35633065631232ULL,
       35633065892864ULL,    35649809300992ULL,    35701718261248ULL,    44446271675904ULL,
       61968831353856ULL,    66220310927360ULL,    66220311052288ULL,  1139223366867968ULL,
     1139223905831936ULL,  1150339312910336ULL,  1156876221552640ULL,  1156876221677568ULL,
     1185798026035200ULL,  1192334934677504ULL,  1192334934806528ULL,  2278317413243904ULL,
     3399819273575424ULL,  4534498127255552ULL,  4534498127380480ULL,  4534910980982784ULL,
     4556634926748672ULL,  4561032939705344ULL,  4561041528327168ULL,  7909998824527872ULL,
     7909998824656896ULL,  7914388281104384ULL,  7914388281233408ULL };
Field win2_26[] = { 0ULL };

const Field * const win2[28] = {
    win2_00, win2_01, win2_02, win2_03,
    win2_04, win2_05, win2_06, win2_07,
    win2_08, win2_09, win2_10, win2_10,
    win2_10, win2_13, win2_13, win2_13,
    win2_13, win2_13, win2_13, win2_13,
    win2_13, win2_13, win2_13, win2_13,
    win2_13, win2_13, win2_26, win2_26 };

static void rotate_masks(Field *masks)
{
    int size = 0;
    while(masks[size])
        ++size;

    for(int n = 0; n < 3*size; ++n)
        masks[n + size] = rotate(masks[n]);
    masks[4*size] = 0;
}

void winning_initialize()
{
    rotate_masks(win2_00);
    rotate_masks(win2_01);
    rotate_masks(win2_02);
    rotate_masks(win2_03);
    rotate_masks(win2_04);
    rotate_masks(win2_05);
    rotate_masks(win2_06);
    rotate_masks(win2_07);
    rotate_masks(win2_08);
    rotate_masks(win2_09);
    rotate_masks(win2_10);
    rotate_masks(win2_13);

#ifdef DEBUG
    std::cerr << "Memory alllocated by 'winning' library: "
              << ( sizeof(win2_00) + sizeof(win2_01) + sizeof(win2_02) +
                   sizeof(win2_03) + sizeof(win2_04) + sizeof(win2_05) +
                   sizeof(win2_06) + sizeof(win2_07) + sizeof(win2_08) +
                   sizeof(win2_09) + sizeof(win2_10) + sizeof(win2_13) +
                   sizeof(win2_26) + sizeof(win2) )
              << " bytes" << std::endl;
#endif
}

bool winning(const Field &f, int turn)
{
    for(const Field *pmask = win2[turn]; *pmask; ++pmask)
        if((f & *pmask) == *pmask)
            return true;

    return false;
}
